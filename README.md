# Cloud camp test assignment

## 1. Вопросы для разогрева

### Опишите самую интересную задачу в программировании, которую вам приходилось решать?

### Расскажите о своем самом большом факапе? Что вы предприняли для решения проблемы?

### Каковы ваши ожидания от участия в буткемпе?

## 2. Разработка HTTP-балансировщика нагрузки на Go
 
тут чето будет

## 3. Реализация Rate-Limiting

### Сборка и запуск

#### Docker
```bash
docker-compose -f docker-compose-rl.yml up --build
```

- Создаются 2 контейнера (для приложения и для базы данных)
- Приложение прослушивает порт `:8080`
- База данных прослушивает порт `:5432`

Приложение готово принимать запросы!

Для остановки:
```bash
docker-compose -f docker-compose-rl.yml down
```

#### Локально

```bash
go mod tidy
go build main.go
```

Если требуется определенное имя файла:
```bash
go mod tidy
go build -o filename main.go
```

Для работы приложения требуется **PostgreSQL** версии **14** или выше

Для инициализации таблиц требуется созданная база данных `rate-limiting`

Инициализация таблиц
```bash
psql -U username -d rate-limiting -f ./sql/01_initTables.sql
```

Для добавления тестового API-ключа
```bash
psql -U username -d rate-limiting -f ./sql/01_initTestAPIKey.sql
```

В обоих примерах заменить username на пользователя базы данных

### Взаимодействие

Для взаимодействия с сервером, в заголовке запроса должно быть поле "X-API-KEY"

Пример взаимодействия через cURL:
```bash
% curl -H "X-API-KEY: TEST_API_KEY" localhost:8080
```

### Дополнение

- Информация об оставшихся запросах не сохраняется (не успел написать логику сохранения оставшихся запросов в БД)
- Каждые 5 минут неактивные API-ключи выгружаются из памяти
- - Т.е. за 5 минут остаток полностью сбросится
- На комментарии и документацию не хватило времени